---
url: "https://docs.plasmo.com/framework/content-scripts"
title: "Content Scripts â€“ Plasmo"
---

[**_plasmo_**](https://docs.plasmo.com/)

`CTRL K`

[GitHubGitHub (opens in a new tab)](https://github.com/PlasmoHQ/plasmo) [DiscordDiscord (opens in a new tab)](https://www.plasmo.com/s/d)

`CTRL K`

- [Welcome](https://docs.plasmo.com/)
- Framework




- [Getting Started](https://docs.plasmo.com/framework)
- Workflows




- [New Extension](https://docs.plasmo.com/framework/workflows/new)
- [Development Server](https://docs.plasmo.com/framework/workflows/dev)
- [Production Build](https://docs.plasmo.com/framework/workflows/build)
- [Submission](https://docs.plasmo.com/framework/workflows/submit)
- [FAQ](https://docs.plasmo.com/framework/workflows/faq)

- [Extension Pages](https://docs.plasmo.com/framework/ext-pages)
- [Tab Pages](https://docs.plasmo.com/framework/tab-pages)
- [Sandbox Pages](https://docs.plasmo.com/framework/sandbox-pages)
- [Content Scripts](https://docs.plasmo.com/framework/content-scripts)
- [Content Scripts UI](https://docs.plasmo.com/framework/content-scripts-ui)




- [Life Cycle](https://docs.plasmo.com/framework/content-scripts-ui/life-cycle)
- [Styling](https://docs.plasmo.com/framework/content-scripts-ui/styling)

- [Background SW](https://docs.plasmo.com/framework/background-service-worker)
- [Messaging](https://docs.plasmo.com/framework/messaging)
- [Storage](https://docs.plasmo.com/framework/storage)
- [Environment Variables](https://docs.plasmo.com/framework/env)
- [Import Resolution](https://docs.plasmo.com/framework/import)
- [Assets](https://docs.plasmo.com/framework/assets)
- [Icon](https://docs.plasmo.com/framework/icon)
- [Locales](https://docs.plasmo.com/framework/locales)
- [Remote Code](https://docs.plasmo.com/framework/remote-code)
- Customization




- [Principles](https://docs.plasmo.com/framework/customization)
- [Manifest Override](https://docs.plasmo.com/framework/customization/manifest)
- [Use src Directory](https://docs.plasmo.com/framework/customization/src)
- [Replace the HTML](https://docs.plasmo.com/framework/customization/html)
- [Alias Imports](https://docs.plasmo.com/framework/customization/alias)
- [Internal Paths](https://docs.plasmo.com/framework/customization/internal-path)

- Itero




- [Getting Started](https://docs.plasmo.com/itero)
- [TestBed](https://docs.plasmo.com/itero/test-bed)
- [Team](https://docs.plasmo.com/itero/team)
- [GitHub Extension Builder](https://docs.plasmo.com/itero/builder)
- [Publisher](https://docs.plasmo.com/itero/publisher)
- [MV2 to MV3](https://docs.plasmo.com/itero/mv2-to-mv3)
- [GitHub Integration](https://docs.plasmo.com/itero/github)
- [Manual API](https://docs.plasmo.com/itero/api)

- [Quickstarts](https://docs.plasmo.com/quickstarts)




- [Migrate to Plasmo](https://docs.plasmo.com/quickstarts/migrate-to-plasmo)
- [Quickstart: Next.js](https://docs.plasmo.com/quickstarts/with-nextjs)
- [Quickstart: Stripe](https://docs.plasmo.com/quickstarts/with-stripe)
- [Quickstart: Redux](https://docs.plasmo.com/quickstarts/with-redux)
- [Quickstart: Tailwind CSS](https://docs.plasmo.com/quickstarts/with-tailwindcss)
- [Quickstart: Supabase](https://docs.plasmo.com/quickstarts/with-supabase)
- [Quickstart: Firebase Auth](https://docs.plasmo.com/quickstarts/with-firebase-authentication)
- [Quickstart: Google Analytics](https://docs.plasmo.com/quickstarts/with-google-analytics)
- [Quickstart: Chrome Storage](https://docs.plasmo.com/quickstarts/with-chrome-storage)

- [Welcome](https://docs.plasmo.com/)
- Framework




- [Getting Started](https://docs.plasmo.com/framework)
- Workflows




- [New Extension](https://docs.plasmo.com/framework/workflows/new)
- [Development Server](https://docs.plasmo.com/framework/workflows/dev)
- [Production Build](https://docs.plasmo.com/framework/workflows/build)
- [Submission](https://docs.plasmo.com/framework/workflows/submit)
- [FAQ](https://docs.plasmo.com/framework/workflows/faq)

- [Extension Pages](https://docs.plasmo.com/framework/ext-pages)
- [Tab Pages](https://docs.plasmo.com/framework/tab-pages)
- [Sandbox Pages](https://docs.plasmo.com/framework/sandbox-pages)
- [Content Scripts](https://docs.plasmo.com/framework/content-scripts)
  - [Adding a single content script](https://docs.plasmo.com/framework/content-scripts#adding-a-single-content-script)
  - [Adding multiple content scripts](https://docs.plasmo.com/framework/content-scripts#adding-multiple-content-scripts)
  - [Config](https://docs.plasmo.com/framework/content-scripts#config)
  - [Injecting into the main world](https://docs.plasmo.com/framework/content-scripts#injecting-into-the-main-world)
  - [Fetching external API and CORS](https://docs.plasmo.com/framework/content-scripts#fetching-external-api-and-cors)
  - [Importing resources](https://docs.plasmo.com/framework/content-scripts#importing-resources)
- [Content Scripts UI](https://docs.plasmo.com/framework/content-scripts-ui)




- [Life Cycle](https://docs.plasmo.com/framework/content-scripts-ui/life-cycle)
- [Styling](https://docs.plasmo.com/framework/content-scripts-ui/styling)

- [Background SW](https://docs.plasmo.com/framework/background-service-worker)
- [Messaging](https://docs.plasmo.com/framework/messaging)
- [Storage](https://docs.plasmo.com/framework/storage)
- [Environment Variables](https://docs.plasmo.com/framework/env)
- [Import Resolution](https://docs.plasmo.com/framework/import)
- [Assets](https://docs.plasmo.com/framework/assets)
- [Icon](https://docs.plasmo.com/framework/icon)
- [Locales](https://docs.plasmo.com/framework/locales)
- [Remote Code](https://docs.plasmo.com/framework/remote-code)
- Customization




- [Principles](https://docs.plasmo.com/framework/customization)
- [Manifest Override](https://docs.plasmo.com/framework/customization/manifest)
- [Use src Directory](https://docs.plasmo.com/framework/customization/src)
- [Replace the HTML](https://docs.plasmo.com/framework/customization/html)
- [Alias Imports](https://docs.plasmo.com/framework/customization/alias)
- [Internal Paths](https://docs.plasmo.com/framework/customization/internal-path)

- Itero




- [Getting Started](https://docs.plasmo.com/itero)
- [TestBed](https://docs.plasmo.com/itero/test-bed)
- [Team](https://docs.plasmo.com/itero/team)
- [GitHub Extension Builder](https://docs.plasmo.com/itero/builder)
- [Publisher](https://docs.plasmo.com/itero/publisher)
- [MV2 to MV3](https://docs.plasmo.com/itero/mv2-to-mv3)
- [GitHub Integration](https://docs.plasmo.com/itero/github)
- [Manual API](https://docs.plasmo.com/itero/api)

- [Quickstarts](https://docs.plasmo.com/quickstarts)




- [Migrate to Plasmo](https://docs.plasmo.com/quickstarts/migrate-to-plasmo)
- [Quickstart: Next.js](https://docs.plasmo.com/quickstarts/with-nextjs)
- [Quickstart: Stripe](https://docs.plasmo.com/quickstarts/with-stripe)
- [Quickstart: Redux](https://docs.plasmo.com/quickstarts/with-redux)
- [Quickstart: Tailwind CSS](https://docs.plasmo.com/quickstarts/with-tailwindcss)
- [Quickstart: Supabase](https://docs.plasmo.com/quickstarts/with-supabase)
- [Quickstart: Firebase Auth](https://docs.plasmo.com/quickstarts/with-firebase-authentication)
- [Quickstart: Google Analytics](https://docs.plasmo.com/quickstarts/with-google-analytics)
- [Quickstart: Chrome Storage](https://docs.plasmo.com/quickstarts/with-chrome-storage)

System

On This Page

- [Use cases:](https://docs.plasmo.com/framework/content-scripts#use-cases)
- [Adding a single content script](https://docs.plasmo.com/framework/content-scripts#adding-a-single-content-script)
- [Adding multiple content scripts](https://docs.plasmo.com/framework/content-scripts#adding-multiple-content-scripts)
- [Config](https://docs.plasmo.com/framework/content-scripts#config)
- [Injecting into the main world](https://docs.plasmo.com/framework/content-scripts#injecting-into-the-main-world)
- [Fetching external API and CORS](https://docs.plasmo.com/framework/content-scripts#fetching-external-api-and-cors)
- [Importing resources](https://docs.plasmo.com/framework/content-scripts#importing-resources)

[Question? Give us feedback â†’ (opens in a new tab)](https://github.com/PlasmoHQ/docs/issues/new?title=Feedback%20for%20%E2%80%9CContent%20Scripts%E2%80%9D&labels=feedback) [Edit this page on GitHub](https://github.com/PlasmoHQ/docs/edit/main/src/pages/framework/content-scripts.mdx)

Framework

Content Scripts

# Content Scripts

Content scripts run in the context of web pages in an _isolated world_. This allows multiple content scripts from various extensions to coexist without conflicting with each other's execution and to stay isolated from the page's JavaScript.

A script that ends with `.ts` will not have front-end runtime (react/vue/svelte) bundled with it and won't be treated as a ui script, while a script that ends in `.tsx`, `.vue` or `.svelte`, will be.

### Use cases: [Permalink for this section](https://docs.plasmo.com/framework/content-scripts\#use-cases)

- Scraping data from the current web page
- Selecting, finding, and styling elements from the current web page
- [Injecting UI elements into the current web page](https://docs.plasmo.com/framework/content-scripts-ui)
- [Injecting code into the "main world" context](https://docs.plasmo.com/framework/content-scripts#injecting-into-the-main-world)

## Adding a single content script [Permalink for this section](https://docs.plasmo.com/framework/content-scripts\#adding-a-single-content-script)

ðŸš¨

Since Plasmo's default Typescript configuration treats all source files as
modules, if you don't have any imports or exports in your code, you'll have to
add an `export {}` line at the start of your file. (You will see this warning
when creating your first content script!)

Create a `content.ts` file, export an empty object and hack away!

content.ts

```nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10
export {}
console.log(
  "You may find that having is not so pleasing a thing as wanting. This is not logical, but it is often true."
)
```

Reload your extension, open a web page, then open its inspector:

![content-script-spock-quote](https://docs.plasmo.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fcontent-script-console-output.68f2a8a6.png&w=3840&q=75)

See [with-content-script (opens in a new tab)](https://github.com/PlasmoHQ/examples/tree/main/with-content-script) for a full example.

## Adding multiple content scripts [Permalink for this section](https://docs.plasmo.com/framework/content-scripts\#adding-multiple-content-scripts)

Create a `contents` directory for multiple content scripts, and add your content scripts there. Make sure their names describe what they do!

See [with-many-content-scripts (opens in a new tab)](https://github.com/PlasmoHQ/examples/tree/main/with-many-content-scripts) for an example.

## Config [Permalink for this section](https://docs.plasmo.com/framework/content-scripts\#config)

Sometimes, you'll want to run a content script on certain pages. You can provide a custom content script configuration by exporting a config object from your content script:

content.ts

```nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10
import type { PlasmoCSConfig } from "plasmo"

export const config: PlasmoCSConfig = {
  matches: ["<all_urls>"],
  all_frames: true
}
```

Working with this configuration object is a breeze thanks to the exported `PlasmoCSConfig` type ðŸ¥³.

To learn more about the config and each property, [check out Chrome's official documentation (opens in a new tab)](https://developer.chrome.com/docs/extensions/mv3/content_scripts/#static-declarative).

## Injecting into the main world [Permalink for this section](https://docs.plasmo.com/framework/content-scripts\#injecting-into-the-main-world)

To modify the `window` object from your content script, you must inject code into the "main world."

Starting from Plasmo `v0.65.0`, Plasmo content script may specify a `world` property within the config:

content.ts

```nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10
import type { PlasmoCSConfig } from "plasmo"

export const config: PlasmoCSConfig = {
  matches: ["<all_urls>"],
  world: "MAIN"
}
```

The above script will be injected into the main world.

To manually inject a main world script, use the `chrome.scripting.executeScript` API. First, manually add the scripting permission in your [package.json's 'manifest.permissions' array](https://docs.plasmo.com/framework/customization/manifest):

package.json

```nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10
{
  ...
  "manifest" : {
    "permissions": ["scripting"]
  }
}
```

Then, inject your content script into the main world by calling `chrome.scripting.executeScript` from your background service worker:

background.ts

```nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10
chrome.scripting.executeScript(
  {
    target: {
      tabId // the tab you want to inject into
    },
    world: "MAIN", // MAIN to access the window object
    func: windowChanger // function to inject
  },
  () => {
    console.log("Background script got callback after injection")
  }
)
```

For the `func` key, you can pass in a TS function from your project. It will be transpiled into JS when your extension bundles. You may also use the `files` key to inject a file from the root of the built bundle.

ðŸš¨

The scope of the `func` is tightly encapsulated. You will not be able to use variables declared outside its scope or any imported variables directly within the function. You can, however, use variables passed down to the `args` property. Ensure only JSON-serializable values are used.

See [with-main-world (opens in a new tab)](https://github.com/PlasmoHQ/examples/tree/main/with-main-world) for an example.

## Fetching external API and CORS [Permalink for this section](https://docs.plasmo.com/framework/content-scripts\#fetching-external-api-and-cors)

Because content scripts run within the context of a web page, they are subject to the same-origin policy. To mitigate CORS restrictions, you can use the [Plasmo Messaging API](https://docs.plasmo.com/framework/messaging#message-flow) to proxy the request via your background service worker.

## Importing resources [Permalink for this section](https://docs.plasmo.com/framework/content-scripts\#importing-resources)

To import external assets into your content script, you can use the [`url:` scheme](https://docs.plasmo.com/framework/import#url):

```nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10
import myFile from "url:./path/to/my/file/something.js"
```

The `url:` scheme will automatically resolve the `something.js` asset and add it to the `web_accessible_resources` declaration in the built bundle. The above `myFile` variable will be a string containing the URL to the asset:

```nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10
> console.log(myFile)

chrome-extension://<your chrome ext id>/something.eb20bc99.js?1656000646313

> console.log(myFile.split("/").pop().split("?")[0])

something.eb20bc99.js
```

Alternatively, you can use the [`data-base64`](https://docs.plasmo.com/framework/import#data-base64) or the [`data-text`](https://docs.plasmo.com/framework/import#data-text) scheme to import and embed the asset directly into your code. For small assets, these schemes should work well.

ðŸš¨

Please see this [note about `~` import\\
resolution](https://docs.plasmo.com/framework/import#tilde-)

[Sandbox Pages](https://docs.plasmo.com/framework/sandbox-pages "Sandbox Pages") [Content Scripts UI](https://docs.plasmo.com/framework/content-scripts-ui "Content Scripts UI")

System

* * *

[Â© 2025 Plasmo Corp. All rights reserved. v0.4.0](https://www.plasmo.com/)